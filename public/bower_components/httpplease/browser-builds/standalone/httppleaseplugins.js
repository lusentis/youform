!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.httppleaseplugins=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){"use strict";b.exports=function(a){var b,c=!1;return function(){return c||(c=!0,b=a.apply(this,arguments)),b}}},{}],2:[function(a,b){(function(){var a,c,d,e,f={}.hasOwnProperty;c=/^(?:(?:([^:\/?\#]+:)\/+|(\/\/))(?:([a-z0-9-\._~%]+)(?::([a-z0-9-\._~%]+))?@)?(([a-z0-9-\._~%!$&'()*+,;=]+)(?::([0-9]+))?)?)?([^?\#]*?)(\?[^\#]*)?(\#.*)?$/,e=function(a,b){return e.URL.parse(a,b)},e.URL=a=function(){function a(a){var b,c,e;for(b in d)f.call(d,b)&&(c=d[b],this[b]=null!=(e=a[b])?e:c);this.host||(this.host=this.hostname&&this.port?""+this.hostname+":"+this.port:this.hostname?this.hostname:""),this.origin||(this.origin=this.protocol?""+this.protocol+"//"+this.host:""),this.isAbsolutePathRelative=!this.host&&"/"===this.pathname.charAt(0),this.isPathRelative=!this.host&&"/"!==this.pathname.charAt(0),this.isRelative=this.isSchemeRelative||this.isAbsolutePathRelative||this.isPathRelative,this.isAbsolute=!this.isRelative}return a.parse=function(a){var b,d,f;return b=a.toString().match(c),d=b[8]||"",f=b[1],new e.URL({protocol:f,username:b[3],password:b[4],hostname:b[6],port:b[7],pathname:f&&"/"!==d.charAt(0)?"/"+d:d,search:b[9],hash:b[10],isSchemeRelative:null!=b[2]})},a}(),d={protocol:"",username:"",password:"",host:"",hostname:"",port:"",pathname:"",search:"",hash:"",origin:"",isSchemeRelative:!1},b.exports=e}).call(this)},{}],3:[function(a){(function(){var b,c;c=a("../core"),b=c.URL,b.prototype.toString=function(){var a,b,c;return b=this.isSchemeRelative?"//":"file:"===this.protocol?""+this.protocol+"///":this.protocol?""+this.protocol+"//":"",c=this.password?""+this.username+":"+this.password:this.username?""+this.username:"",a=c?""+c+"@"+this.host:this.host?""+this.host:"",""+b+a+this.pathname+this.search+this.hash}}).call(this)},{"../core":2}],4:[function(a,b){"use strict";b.exports={processRequest:function(a){a.url=a.url.replace(/[^%]+/g,function(a){return encodeURI(a)})}}},{}],5:[function(a,b){b.exports={cleanurl:a("./cleanurl"),oldieactivex:a("./oldieactivex"),oldiexdomain:a("./oldiexdomain"),jsonresponse:a("./jsonresponse"),jsonrequest:a("./jsonrequest"),json:a("./json"),setprotocol:a("./setprotocol")}},{"./cleanurl":4,"./json":6,"./jsonrequest":7,"./jsonresponse":8,"./oldieactivex":9,"./oldiexdomain":10,"./setprotocol":11}],6:[function(a,b){"use strict";var c=a("./jsonrequest"),d=a("./jsonresponse");b.exports={processRequest:function(a){c.processRequest.call(this,a),d.processRequest.call(this,a)},processResponse:function(a){d.processResponse.call(this,a)}}},{"./jsonrequest":7,"./jsonresponse":8}],7:[function(a,b){"use strict";b.exports={processRequest:function(a){var b=a.header("Content-Type"),c=b&&-1!==b.indexOf("application/json");(null==b||c)&&a.body&&(b||a.header("Content-Type","application/json"),a.body=JSON.stringify(a.body))}}},{}],8:[function(a,b){"use strict";b.exports={processRequest:function(a){var b=a.header("Accept");null==b&&a.header("Accept","application/json")},processResponse:function(a){if(a.contentType&&/^.*\/(?:.*\+)?json(;|$)/i.test(a.contentType)){var b="string"==typeof a.body?a.body:a.text;b&&(a.body=JSON.parse(b))}}}},{}],9:[function(a,b){"use strict";b.exports={createXHR:function(){if("undefined"!=typeof window&&null!=window&&!window.XMLHttpRequest){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(a){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}}}},{}],10:[function(a,b){"use strict";var c=a("urllite/lib/core"),d=a("../lib/utils/once"),e=!1,f=d(function(){return"undefined"!=typeof window&&null!==window&&window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest});b.exports={createXHR:function(a){var b,d,g;if("undefined"!=typeof window&&null!==window&&(b=c(a.url),d=c(window.location.href),b.host&&(b.protocol!==d.protocol||b.host!==d.host||b.port!==d.port))){if(!e&&a.headers)for(g in a.headers)if(a.headers.hasOwnProperty(g)){e=!0,window&&window.console&&window.console.warn&&window.console.warn("Request headers are ignored in old IE when using the oldiexdomain plugin.");break}if(window.XDomainRequest&&!f()){var h=new window.XDomainRequest;return h.setRequestHeader=function(){},h}}}}},{"../lib/utils/once":1,"urllite/lib/core":2}],11:[function(a,b){"use strict";function c(a){a=a||{};var b=a.defaultProtocol||"http:",c=a.override===!0?!0:!1;return b=b.replace(/:?$/,":"),{processRequest:function(a){var e,f=d(a.url);f.host&&(e="undefined"==typeof window||null===window?b:d(window.location.href).protocol,f.protocol===e||f.protocol&&!c||(a.url=new d.URL({protocol:e,username:f.username,password:f.password,hostname:f.hostname,port:f.port,pathname:f.pathname,search:f.search,hash:f.hash}).toString()))}}}var d=a("urllite/lib/core");a("urllite/lib/extensions/toString"),c.processRequest=c().processRequest,b.exports=c},{"urllite/lib/core":2,"urllite/lib/extensions/toString":3}]},{},[5])(5)});